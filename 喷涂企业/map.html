<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <meta name="keywords" content="天地图"/>
    <title>天地图－地图涉喷涂企业-标注</title>
    <script type="text/javascript" src="http://api.tianditu.gov.cn/api?v=4.0&tk=701640b81eacb6c191dd460f74393688"></script>
    <style type="text/css">body,html{width:100%;height:100%;margin:0;font-family:"Microsoft YaHei"}#mapDiv{width:100%;height:100vh}input,b,p{margin-left:5px;font-size:14px}</style>
    <script>
        var map;
        var zoom = 12;

        var pointCoordinates = [
        {"id": 3, "risk_level": "一般风险", "longitude": 120.2042181, "latitude": 30.24775551},
    {"id": 7, "risk_level": "低风险", "longitude": 119.85801, "latitude": 30.34188},
    {"id": 11, "risk_level": "低风险", "longitude": 120.13813, "latitude": 30.40015},
    {"id": 12, "risk_level": "低风险", "longitude": 119.973729, "latitude": 30.276828},
    {"id": 14, "risk_level": "高风险", "longitude": 120.15675, "latitude": 30.41469},
    {"id": 18, "risk_level": "一般风险", "longitude": 120.159224, "latitude": 30.391376},
    {"id": 25, "risk_level": "低风险", "longitude": 120.226705, "latitude": 30.488261},
    {"id": 28, "risk_level": "低风险", "longitude": 120.30134, "latitude": 30.42395},
    {"id": 31, "risk_level": "低风险", "longitude": 120.31618, "latitude": 30.44206},
    {"id": 32, "risk_level": "低风险", "longitude": 120.28634, "latitude": 30.44977},
    {"id": 33, "risk_level": "一般风险", "longitude": 120.30025, "latitude": 30.43631},
    {"id": 38, "risk_level": "低风险", "longitude": 120.166031, "latitude": 30.460655},
    {"id": 41, "risk_level": "一般风险", "longitude": 120.24919, "latitude": 30.46284},
    {"id": 71, "risk_level": "低风险", "longitude": 120.23006, "latitude": 30.45826},
    {"id": 78, "risk_level": "一般风险", "longitude": 114.472332, "latitude": 22.59926},
    {"id": 80, "risk_level": "一般风险", "longitude": 120.23547, "latitude": 30.4345},
    {"id": 86, "risk_level": "一般风险", "longitude": 120.30025, "latitude": 30.43631},
    {"id": 88, "risk_level": "一般风险", "longitude": 120.30025, "latitude": 30.43631},
    {"id": 112, "risk_level": "一般风险", "longitude": 120.28642, "latitude": 30.46234},
    {"id": 117, "risk_level": "低风险", "longitude": 120.23488, "latitude": 30.43245},
    {"id": 124, "risk_level": "低风险", "longitude": 120.27594, "latitude": 30.47508},
    {"id": 129, "risk_level": "低风险", "longitude": 120.29377, "latitude": 30.45624},
    {"id": 148, "risk_level": "一般风险", "longitude": 120.30025, "latitude": 30.43631},
    {"id": 157, "risk_level": "高风险", "longitude": 120.23765, "latitude": 30.43275},
    {"id": 165, "risk_level": "一般风险", "longitude": 120.29377, "latitude": 30.45624},
    {"id": 189, "risk_level": "一般风险", "longitude": 120.18127, "latitude": 30.49587},
    {"id": 190, "risk_level": "低风险", "longitude": 120.201808, "latitude": 30.47474},
    {"id": 194, "risk_level": "低风险", "longitude": 120.163063, "latitude": 30.453615},
    {"id": 199, "risk_level": "较大风险", "longitude": 120.201808, "latitude": 30.47474},
    {"id": 228, "risk_level": "低风险", "longitude": 120.302269, "latitude": 30.475527},
    {"id": 5, "risk_level": "较大风险", "longitude": 120.13366, "latitude": 30.40745},
    {"id": 15, "risk_level": "低风险", "longitude": 120.14051, "latitude": 30.4028},
    {"id": 20, "risk_level": "一般风险", "longitude": 119.93243, "latitude": 30.27208},
    {"id": 23, "risk_level": "低风险", "longitude": 120.201697, "latitude": 30.403526},
    {"id": 34, "risk_level": "一般风险", "longitude": 120.18876, "latitude": 30.26054},
    {"id": 42, "risk_level": "低风险", "longitude": 120.30025, "latitude": 30.43631},
    {"id": 50, "risk_level": "低风险", "longitude": 120.267906, "latitude": 30.436728},
    {"id": 63, "risk_level": "低风险", "longitude": 120.31105, "latitude": 30.43545},
    {"id": 67, "risk_level": "较大风险", "longitude": 120.29377, "latitude": 30.45624},
    {"id": 69, "risk_level": "低风险", "longitude": 120.248697, "latitude": 30.468944},
    {"id": 70, "risk_level": "低风险", "longitude": 119.74886, "latitude": 29.83593},
    {"id": 72, "risk_level": "低风险", "longitude": 120.30025, "latitude": 30.43631},
    {"id": 73, "risk_level": "一般风险", "longitude": 120.24444, "latitude": 30.44387},
    {"id": 75, "risk_level": "低风险", "longitude": 120.29858, "latitude": 30.43955},
    {"id": 84, "risk_level": "低风险", "longitude": 120.30162, "latitude": 30.4491},
    {"id": 85, "risk_level": "一般风险", "longitude": 120.24205, "latitude": 30.44511},
    {"id": 87, "risk_level": "一般风险", "longitude": 120.29067, "latitude": 30.45627},
    {"id": 89, "risk_level": "一般风险", "longitude": 120.23006, "latitude": 30.45826},
    {"id": 92, "risk_level": "低风险", "longitude": 120.31105, "latitude": 30.43545},
    {"id": 98, "risk_level": "低风险", "longitude": 120.22179, "latitude": 30.4153},
    {"id": 101, "risk_level": "低风险", "longitude": 120.24911, "latitude": 30.47108},
    {"id": 102, "risk_level": "低风险", "longitude": 120.269274, "latitude": 30.427493},
    {"id": 105, "risk_level": "低风险", "longitude": 120.28642, "latitude": 30.46234},
    {"id": 106, "risk_level": "低风险", "longitude": 120.289827, "latitude": 30.458411},
    {"id": 111, "risk_level": "一般风险", "longitude": 120.28023, "latitude": 30.44411},
    {"id": 113, "risk_level": "低风险", "longitude": 120.27236, "latitude": 30.4746},
    {"id": 114, "risk_level": "一般风险", "longitude": 120.28642, "latitude": 30.46234},
    {"id": 115, "risk_level": "低风险", "longitude": 120.295432, "latitude": 30.423879},
    {"id": 118, "risk_level": "较大风险", "longitude": 120.23587, "latitude": 30.44612},
    {"id": 119, "risk_level": "一般风险", "longitude": 120.299505, "latitude": 30.443089},
    {"id": 120, "risk_level": "低风险", "longitude": 120.2745114, "latitude": 30.44702692},
    {"id": 121, "risk_level": "低风险", "longitude": 120.31465, "latitude": 30.41871},
    {"id": 122, "risk_level": "低风险", "longitude": 120.29364, "latitude": 30.45471},
    {"id": 123, "risk_level": "低风险", "longitude": 120.30025, "latitude": 30.43631},
    {"id": 125, "risk_level": "低风险", "longitude": 120.30311, "latitude": 30.4332},
    {"id": 126, "risk_level": "低风险", "longitude": 120.31831, "latitude": 30.44772},
    {"id": 127, "risk_level": "低风险", "longitude": 120.320084, "latitude": 30.438207},
    {"id": 128, "risk_level": "一般风险", "longitude": 120.29798, "latitude": 30.44087},
    {"id": 130, "risk_level": "低风险", "longitude": 120.26662, "latitude": 30.43899},
    {"id": 131, "risk_level": "低风险", "longitude": 120.29591, "latitude": 30.45457},
    {"id": 132, "risk_level": "低风险", "longitude": 120.294459, "latitude": 30.459153},
    {"id": 134, "risk_level": "低风险", "longitude": 120.24171, "latitude": 30.46205},
    {"id": 139, "risk_level": "一般风险", "longitude": 120.233702, "latitude": 30.490142},
    {"id": 140, "risk_level": "低风险", "longitude": 120.267906, "latitude": 30.436728},
    {"id": 145, "risk_level": "低风险", "longitude": 120.30361, "latitude": 30.43969},
    {"id": 147, "risk_level": "一般风险", "longitude": 120.29377, "latitude": 30.45624},
    {"id": 149, "risk_level": "低风险", "longitude": 120.2295, "latitude": 30.42193},
    {"id": 150, "risk_level": "一般风险", "longitude": 120.30025, "latitude": 30.43631},
    {"id": 151, "risk_level": "低风险", "longitude": 120.231113, "latitude": 30.460506},
    {"id": 152, "risk_level": "低风险", "longitude": 120.316, "latitude": 30.4507},
    {"id": 158, "risk_level": "低风险", "longitude": 120.267906, "latitude": 30.436728},
    {"id": 161, "risk_level": "一般风险", "longitude": 120.231044, "latitude": 30.461363},
    {"id": 167, "risk_level": "低风险", "longitude": 120.29956, "latitude": 30.405625},
    {"id": 168, "risk_level": "一般风险", "longitude": 120.31598, "latitude": 30.380611},
    {"id": 170, "risk_level": "低风险", "longitude": 120.2313, "latitude": 30.34515},
    {"id": 172, "risk_level": "低风险", "longitude": 120.1625, "latitude": 30.45374},
    {"id": 173, "risk_level": "低风险", "longitude": 120.330113, "latitude": 30.452313},
    {"id": 177, "risk_level": "低风险", "longitude": 120.17245, "latitude": 30.4687},
    {"id": 178, "risk_level": "低风险", "longitude": 120.16596, "latitude": 30.46296},
    {"id": 183, "risk_level": "一般风险", "longitude": 120.16032, "latitude": 30.46048},
    {"id": 188, "risk_level": "低风险", "longitude": 120.16005, "latitude": 30.45537},
    {"id": 191, "risk_level": "一般风险", "longitude": 120.16231, "latitude": 30.46619},
    {"id": 192, "risk_level": "低风险", "longitude": 120.165803, "latitude": 30.457076},
    {"id": 198, "risk_level": "低风险", "longitude": 120.163063, "latitude": 30.453615},
    {"id": 202, "risk_level": "一般风险", "longitude": 120.163371, "latitude": 30.452781},
    {"id": 203, "risk_level": "一般风险", "longitude": 120.214576, "latitude": 30.460482},
    {"id": 204, "risk_level": "低风险", "longitude": 120.163063, "latitude": 30.453615},
    {"id": 210, "risk_level": "一般风险", "longitude": 120.057256, "latitude": 30.39107},
    {"id": 213, "risk_level": "一般风险", "longitude": 120.214576, "latitude": 30.460482},
    {"id": 217, "risk_level": "低风险", "longitude": 120.160595, "latitude": 30.468597},
    {"id": 219, "risk_level": "一般风险", "longitude": 120.2549, "latitude": 30.41181},
    {"id": 220, "risk_level": "低风险", "longitude": 120.26854, "latitude": 30.4058},
    {"id": 223, "risk_level": "一般风险", "longitude": 120.26826, "latitude": 30.40437},
    {"id": 224, "risk_level": "一般风险", "longitude": 120.25489, "latitude": 30.40334},
    {"id": 225, "risk_level": "一般风险", "longitude": 120.25524, "latitude": 30.40754},
    {"id": 226, "risk_level": "低风险", "longitude": 120.24353, "latitude": 30.41268},
    {"id": 230, "risk_level": "一般风险", "longitude": 120.26896, "latitude": 30.4959},
    {"id": 231, "risk_level": "一般风险", "longitude": 120.27133, "latitude": 30.49309},
    {"id": 233, "risk_level": "低风险", "longitude": 120.303126, "latitude": 30.495535},
    {"id": 238, "risk_level": "低风险", "longitude": 116.831168, "latitude": 38.32284},
    {"id": 239, "risk_level": "一般风险", "longitude": 120.25058, "latitude": 30.50622},
    {"id": 240, "risk_level": "一般风险", "longitude": 120.304387, "latitude": 30.468197},
    {"id": 259, "risk_level": "一般风险", "longitude": 120.235447, "latitude": 30.488961},
];
        function onLoad() {
            //初始化地图对象
            map = new T.Map("mapDiv");
            //设置显示地图的中心点和级别 120.2067695, "latitude": 30.4307115
            map.centerAndZoom(new T.LngLat(120.2067695, 30.4307115), zoom);

            var colorList = {
                '低风险': '4',
                '一般风险': '3',
                '高风险': '1',
                '较大风险': '2',
            }

            pointCoordinates.forEach(item => {
                var icon = new T.Icon({
                    iconUrl: `./img/point_risk${colorList[item.risk_level]}.png`,
                    iconSize: new T.Point(26, 27),
                    iconAnchor: new T.Point(10, 25)
                });
                let marker = new T.Marker(new T.LngLat(item.longitude, item.latitude),{icon});
                map.addOverLay(marker);
                let label = new T.Label({
                    text: `${item.id}`,
                    position: marker.getLngLat(),
                    offset: new T.Point(-26, -38)
                });
                label.setFontSize(8)
                label.setBorderLine(0)
                map.addOverLay(label);
            })
        }
    </script>
</head>
<body onLoad="onLoad()">
<div id="mapDiv"></div>
</body>
</html>